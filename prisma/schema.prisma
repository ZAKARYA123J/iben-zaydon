generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int     @id @default(autoincrement())
  email    String  @unique
  password String
  phone    String?
  name     String
}

model Post {
  id         Int       @id @default(autoincrement())
  img        String
  datePost   DateTime
  lat        Float
  lon        Float
  prix       Float
  adress     String
  ville      String
  status     Status
  table      String
  categoryId Int?
  typeId     Int?
  Detail     Detail?
  category   Category? @relation(fields: [categoryId], references: [id])
  type       Type?     @relation(fields: [typeId], references: [id])
}

model Partennaire {
  id   Int    @id @default(autoincrement())
  name String
  logo String
}

model Category {
  id    Int          @id @default(autoincrement())
  name  CategoryName
  posts Post[]
}

model Type {
  id    Int      @id @default(autoincrement())
  type  TypeName
  posts Post[]
}

model Detail {
  id          Int    @id @default(autoincrement())
  alldetaille String
  postId      Int    @unique
  post        Post   @relation(fields: [postId], references: [id])
}

enum Status {
  DateValide
  DateInvalide
}

enum CategoryName {
  Location
  Vente
}

enum TypeName {
  Bureau
  Land
  Home
  Park
}
